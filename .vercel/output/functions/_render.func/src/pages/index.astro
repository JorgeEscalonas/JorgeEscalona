---
import Layout from "../layouts/Layout.astro";
import Header from "../components/Header.astro";
import Hero from "../components/Hero.astro";
import SobreMi from "../components/SobreMi.astro";
import Portafolio from "../components/Portafolio.astro";
import Habilidades from "../components/Habilidades.astro";
import Contacto from "../components/Contacto.astro";
import Footer from "../components/Footer.astro";
---

<Layout
  title="Jorge Escalona - Desarrollador Full Stack"
  description="Portafolio de Jorge Escalona, Desarrollador de Software Full-Stack. Explora mis proyectos, habilidades y experiencia en desarrollo web."
>
  <script is:inline>
    // Función para actualizar el favicon según el tema
    function updateFavicon() {
      const isDark = window.matchMedia("(prefers-color-scheme: dark)").matches;
      const favicon = document.querySelector('link[rel="icon"]');
      if (!favicon) return;

      // Actualizar el favicon basado en el tema
      // Usamos logoazul.ico (minúsculas) para asegurar compatibilidad
      favicon.href = isDark ? "/my-logo.ico" : "/logoazul.ico";
    }

    // Configurar el favicon inicial
    document.addEventListener("DOMContentLoaded", updateFavicon);

    // Escuchar cambios en el tema del sistema
    window
      .matchMedia("(prefers-color-scheme: dark)")
      .addEventListener("change", updateFavicon);
  </script>

  <Header />
  <Hero />
  <SobreMi />
  <Portafolio />
  <Habilidades />
  <Contacto />
  <Footer />
</Layout>
